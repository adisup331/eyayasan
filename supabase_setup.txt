
-- ... (Script sebelumnya tetap ada) ...

-- 13. UPDATE ATTENDANCE STATUS
-- Mengizinkan status: Present, Excused, Absent, Excused Late, Present Late
DO $$ 
BEGIN 
    ALTER TABLE public.event_attendance DROP CONSTRAINT IF EXISTS event_attendance_status_check;
    ALTER TABLE public.event_attendance ADD CONSTRAINT event_attendance_status_check 
    CHECK (status IN ('Present', 'Excused', 'Absent', 'Excused Late', 'Present Late'));
EXCEPTION
    WHEN undefined_table THEN NULL;
END $$;
